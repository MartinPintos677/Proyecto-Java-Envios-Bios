<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
    th:replace="~{fragmentos/plantilla-usuario::html(~{::title}, ~{::body}, 'css/estiloFormularioGenerales.css')}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/estiloFormularioGenerales.css}">
    <title>Empleados</title>

</head>

<body th:remove="tag">
    <div class="container" align="center">
        <h1>Empleados</h1>

        <p th:replace="~{fragmentos/parrafo-mensaje}"></p>

        <!-- Formulario de búsqueda -->
        <form id="formularioBusqueda">
            <div>
                <input type="search" name="criterio" th:value="${param.criterio}" id="criterio"
                    placeholder="Nombre de Empleado">
                <input type="submit" value="Buscar">
            </div>
        </form>

        <!-- Tabla para mostrar la lista de empleados -->
        <div class="datagrid" th:if="${!#lists.isEmpty(empleado)}">
            <table>
                <thead>
                    <tr>
                        <th>Nombre de Usuario</th>
                        <th>Sucursal</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="e : ${empleado}">
                        <td th:text="${e.nombreUsuario}"></td>
                        <td th:text="${e.sucursal.nombre}"></td>
                        <td>
                            <a th:href="@{/empleados/{nombreUsuario}(nombreUsuario=${e.nombreUsuario})}"
                                title="Ver Detalle"><i class="icono icono-ver"></i></a>&nbsp;&nbsp; | &nbsp;
                            <a th:href="@{/empleados/modificar(nombreUsuario=${e.nombreUsuario})}" title="Modificar"><i
                                    class="icono icono-modificar"></i></a>&nbsp;&nbsp; |
                            <a th:href="@{/empleados/eliminar(nombreUsuario=${e.nombreUsuario})}" title="Eliminar"><i
                                    class="icono icono-eliminar"></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Mostrar mensaje si no se encuentran empleados -->
        <div th:if="${#lists.isEmpty(empleado)}">
            <p style="color:red !important;">No se encontró ningún empleado con el
                criterio
                proporcionado.</p>
        </div>

        <p>
            <a class="agregar" th:href="@{/empleados/agregar}" title="Agregar">Agregar Empleado</a>
        </p>

        <div th:replace="~{fragmentos/footer::html(~{::title}, ~{::body})}"></div>

        <script>
            document.getElementById('formularioBusqueda').addEventListener('search', function () {
                document.getElementById('formularioBusqueda').submit();
            });

            document.getElementById('criterio').focus();
            document.getElementById('criterio').select();
        </script>
</body>


</html>